---- This file is automatically generated while creating business event outbound interface for apps adapter.
---- Apply this file on target database in Apps schema to delete artifacts required to capture event.
---- WARNING: Applying this file is not recommended as this would delete the queue WF_BPEL_Q, and
----                  could effect consumers for other events, listening on the same queue.

-- This script to be run on the EBS Apps Schema one time before the go-live with SOA integration 
-- This script could be run if there any issues with WF_BPEL_Q, to repair the queue and agent. However running this script will delete the existing
-- data in the Queue
declare
   subscriber sys.aq$_agent;
begin

-- remove agent
delete from wf_agents where name = 'WF_BPEL_QAGENT';

-- remove queue

-- Stop the queue: 
DBMS_AQADM.STOP_QUEUE (Queue_name => 'WF_BPEL_Q');
 
-- Drop the queue: 
DBMS_AQADM.DROP_QUEUE (Queue_name => 'WF_BPEL_Q');

-- remove queue table
DBMS_AQADM.DROP_QUEUE_TABLE ( queue_table        => 'WF_BPEL_QTAB');

end;
/
commit;
