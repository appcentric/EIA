<?xml version = "1.0" encoding = "UTF-8" ?>
<!--
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  Oracle JDeveloper BPEL Designer 
  
  Created: Wed Jun 12 08:59:53 CDT 2013
  Author:  Vivek Srinivasan
  Type: BPEL 2.0 Process
  Purpose:  Empty BPEL Process
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
-->
<process name="EBizInvoiceABS" targetNamespace="http://xmlns.eia.com/ABS/EBiz/P2P/InvoiceABS/1.0"
         xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
         xmlns:client="http://xmlns.eia.com/ABS/EBiz/P2P/InvoiceABS/1.0"
         xmlns:ora="http://schemas.oracle.com/xpath/extension"
         xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
         xmlns:ns1="http://xmlns.eia.com/ABS/EBiz/InvoiceABS/1.0" xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
         xmlns:ns2="http://xmlns.eia.com/EO/Common/1.0" xmlns:eia="http://xmlns.eia.com/extensions/1.0"
         xmlns:bpws="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
         xmlns:xp20="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.Xpath20"
         xmlns:oraext="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.ExtFunc"
         xmlns:dvm="http://www.oracle.com/XSL/Transform/java/oracle.tip.dvm.LookupValue"
         xmlns:hwf="http://xmlns.oracle.com/bpel/workflow/xpath"
         xmlns:ids="http://xmlns.oracle.com/bpel/services/IdentityService/xpath"
         xmlns:bpm="http://xmlns.oracle.com/bpmn20/extensions"
         xmlns:xdk="http://schemas.oracle.com/bpel/extension/xpath/function/xdk"
         xmlns:xref="http://www.oracle.com/XSL/Transform/java/oracle.tip.xref.xpath.XRefXPathFunctions"
         xmlns:ldap="http://schemas.oracle.com/xpath/extension/ldap" xmlns:xsd="http://www.w3.org/2001/XMLSchema"
         xmlns:ns3="http://xmlns.eia.com/Infrastructure/EIAAsyncErrorHandlingBPELProcess/1.0"
         xmlns:ns4="http://xmlns.oracle.com/pcbpel/adapter/apps/WI_Applications/NUC_EBizAPInvoice_ABS/OA_CreateInvoiceEBS"
         xmlns:ns6="http://xmlns.eia.com/AO/EBiz/common/OperationResultAO/1.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xmlns:ns5="http://xmlns.eia.com/AO/EBiz/P2P/InvoiceABM/1.0"
         xmlns:ns8="http://xmlns.eia.com/AO/EBiz/P2P/InvoiceAO/1.0"
         xmlns:ns9="http://xmlns.eia.com/AO/EBiz/common/AmountAO/1.0"
         xmlns:ns7="http://xmlns.eia.com/AO/EBiz/common/AppsContextAO/1.0"
         xmlns:ns11="http://xmlns.eia.com/AO/EBiz/P2P/SupplierAO/1.0"
         xmlns:ns10="http://xmlns.eia.com/AO/EBiz/common/CommonAO/1.0"
         xmlns:ns12="http://xmlns.oracle.com/pcbpel/adapter/apps/NucorApps/NUC_EBizAPInvoice_ABS/OA_LaunchAutoInvoice"
         xmlns:aia="http://www.oracle.com/XSL/Transform/java/oracle.apps.aia.core.xpath.AIAFunctions"
         xmlns:ns13="http://xmlns.oracle.com/pcbpel/adapter/db/sp/OA_LaunchAutoInvoice"
         xmlns:ui="http://xmlns.oracle.com/soa/designer" xmlns:ess="http://xmlns.oracle.com/scheduler"
         xmlns:ns14="http://xmlns.eia.com/EO/common/Header/1.0"
         xmlns:ns15="http://xmlns.eia.com/AO/EBiz/P2P/SupplierSiteAO/1.0"
         xmlns:ns16="http://xmlns.eia.com/CommonLogging"
         xmlns:ns17="http://xmlns.oracle.com/pcbpel/adapter/db/Test/NUC_EBizAPInvoice_ABS/OA_LaunchAutoInvoiceAPI"
         xmlns:ns18="http://xmlns.oracle.com/pcbpel/adapter/db/sp/OA_LaunchAutoInvoiceAPI">
  <!-- 
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
     ORCHESTRATION LOGIC                                               
     Set of activities coordinating the flow of messages across the    
     services integrated within this business process                  
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  -->
  <import location="InvoiceABSWrapper.wsdl" importType="http://schemas.xmlsoap.org/wsdl/" ui:processWSDL="true"
          namespace="http://xmlns.eia.com/ABS/EBiz/InvoiceABS/1.0"/>
  <import namespace="http://xmlns.eia.com/AO/EBiz/common/OperationResultAO/1.0"
          location="oramds:/apps/EIAMetadata/AO/EBiz/common/V1.0/OperationResultAO.xsd"
          importType="http://www.w3.org/2001/XMLSchema"/>
  <import namespace="http://xmlns.eia.com/ABS/EBiz/InvoiceABS/1.0"
          location="oramds:/apps/EIAMetadata/ABS/EBiz/V1.0/P2P/InvoiceABS.wsdl"
          importType="http://schemas.xmlsoap.org/wsdl/"/>
  <import namespace="http://xmlns.eia.com/EO/Common/1.0" location="oramds:/apps/EIAMetadata/EO/common/Common.xsd"
          importType="http://www.w3.org/2001/XMLSchema"/>
  <partnerLinks>
    <partnerLink name="InvoiceABS" partnerLinkType="ns1:InvoiceABS" myRole="SyncPortType"/>
    <partnerLink name="EIAAsyncErrorHandlingBPELProcessV1" partnerLinkType="ns3:EIAAsyncErrorHandlingBPELProcess"
                 partnerRole="EIAAsyncErrorHandlingBPELProcessProvider"/>
    <partnerLink name="OA_CreateInvoiceEBS" partnerLinkType="ns4:OA_CreateInvoiceEBS_plt"
                 partnerRole="OA_CreateInvoiceEBS_role"/>
    <partnerLink name="OA_LaunchAutoInvoice" partnerLinkType="ns12:OA_LaunchAutoInvoice_plt"
                 partnerRole="OA_LaunchAutoInvoice_role"/>
    <partnerLink name="CommonLogging_PL" partnerLinkType="ns16:CommonLogging" partnerRole="CommonLoggingProvider"/>
    <partnerLink name="OA_LaunchAutoInvoiceAPI" partnerLinkType="ns17:OA_LaunchAutoInvoiceAPI_plt"
                 partnerRole="OA_LaunchAutoInvoiceAPI_role"/>
  </partnerLinks>
  <variables>
    <variable name="CreateInvoice_SyncReqMsg" messageType="ns1:CreateInvoiceRequestMessageType"/>
    <variable name="CreateInvoice_SyncRespMsg" messageType="ns1:CreateInvoiceResponseMessageType"/>
    <variable name="QueryByExample_SyncReqMsg" messageType="ns1:QueryInvoiceRequestMessageType"/>
    <variable name="QueryByExample_SyncRespMsg" messageType="ns1:QueryInvoiceResponseMessageType"/>
    <variable name="EIA_HEADER_MESSAGE" element="ns2:ProcessHeader"/>
    <variable name="EIAFaultMsg" messageType="ns1:EIAFaultMsgType"/>
        <variable name="gbl_operation" type="xsd:string"/>
        <variable name="gbl_RejectedIndx" type="xsd:string"/>
    <variable name="gbl_title" type="xsd:string"/>
    <variable name="EIAAsyncErrorHandlingBPELProcessReqMsg"
              messageType="ns3:EIAAsyncErrorHandlingBPELProcessRequestMessage"/>
    <variable name="OA_CreateInvoiceEBS_ReqMsg" messageType="ns4:ApInvoicesInterfaceCollection_msg"/>
    <variable name="LaunchAutoInvoice_ReqMsg" messageType="ns1:LaunchAutoInvoiceRequestMessageType"/>
    <variable name="LaunchAutoInvoice_RespMsg" messageType="ns1:LaunchAutoInvoiceResponseMessageType"/>
    <variable name="OA_LaunchAutoInvoice_ReqMsg" messageType="ns12:args_in_msg"/>
    <variable name="OA_LaunchAutoInvoice_RespMsg" messageType="ns12:args_out_msg"/>
    <variable name="CreateListOfInvoices_Sync_ReqMsg" messageType="ns1:CreateListOfInvoicesRequestMessageType"/>
    <variable name="CreateListOfInvoices_Sync_RespMsg" messageType="ns1:CreateListOfInvoicesResponseMessageType"/>
    <variable name="Invoke_CommonLogging_PL_process_InputVariable" messageType="ns16:CommonLoggingRequestMessage"/>
    <variable name="OA_LaunchAutoInvoiceAPI_InputVariable" messageType="ns17:args_in_msg"/>
    <variable name="OA_LaunchAutoInvoiceAPI_OutputVariable" messageType="ns17:args_out_msg"/>
    <variable name="LaunchAutoInvoiceAPI_InputVariable" messageType="ns1:LaunchAutoInvoiceAPIRequestMessageType"/>
    <variable name="LaunchAutoInvoiceAPI_OutputVariable" messageType="ns1:LaunchAutoInvoiceAPIResponseMessageType"/>
  </variables>
  <faultHandlers>
    <catch faultName="ns1:EIAFault" faultVariable="EIAFaultMsg" faultMessageType="ns1:EIAFaultMsgType">
      <sequence name="EIAFault">
        <assign name="XformEIAFaultMsg_EIAAsyncErrorHandlingBPELProcessReqMsg">
          <bpelx:annotation>
            <bpelx:pattern patternName="bpelx:transformation"></bpelx:pattern>
          </bpelx:annotation>
          <copy>
            <from>ora:doXSLTransformForDoc("xsl/XformEIAFaultMsg_EIAAsyncErrorHandlingBPELProcessReqMsg.xsl", $EIAFaultMsg.Fault)</from>
            <to variable="EIAAsyncErrorHandlingBPELProcessReqMsg" part="FaultMessage"/>
          </copy>
        </assign>
        <if name="On_Operation">
          <documentation>
            <![CDATA[Operation is Create Invoice]]>
          </documentation>
          <condition>$gbl_operation="CreateInvoice_Sync"</condition>
          <sequence name="Sequence2">
            <invoke name="Invoke_EIAAsyncErrorHandlingBPELProcess" partnerLink="EIAAsyncErrorHandlingBPELProcessV1"
                    portType="ns3:EIAAsyncErrorHandlingBPELProcess" operation="processFault"
                    inputVariable="EIAAsyncErrorHandlingBPELProcessReqMsg" bpelx:invokeAsDetail="no">
              <bpelx:toProperties>
                <bpelx:toProperty name="endpointURI">eia:getEIAModuleProperty("ErrorHandler","endpointURI")</bpelx:toProperty>
              </bpelx:toProperties>
            </invoke>
            <reply name="Reply_CreateInvoice_Sync" faultName="ns1:EIAFault" variable="EIAFaultMsg"
                   partnerLink="InvoiceABS" portType="ns1:SyncPortType" operation="CreateInvoice_Sync"/>
            <assign name="Assign_CreateInvoiceError">
              <copy>
                <from>$CreateInvoice_SyncReqMsg.CreateInvoiceRequestMessage/ns14:HeaderRq/ns14:TransactionIDREF</from>
                <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionId</to>
              </copy>
              <copy>
                <from>$CreateInvoice_SyncReqMsg.CreateInvoiceRequestMessage/ns14:HeaderRq/ns14:ComponentID</from>
                <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ComponentId</to>
              </copy>
              <copy>
                <from>$CreateInvoice_SyncReqMsg.CreateInvoiceRequestMessage/ns14:HeaderRq/ns14:TransactionName</from>
                <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionName</to>
              </copy>
              <copy>
                <from>$CreateInvoice_SyncReqMsg.CreateInvoiceRequestMessage/ns14:HeaderRq/ns14:Source</from>
                <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:SourceSystem</to>
              </copy>
              <copy>
                <from>$CreateInvoice_SyncReqMsg.CreateInvoiceRequestMessage/ns14:HeaderRq/ns14:Target</from>
                <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TargetSystem</to>
              </copy>
            </assign>
          </sequence>
          <elseif>
            <documentation>
              <![CDATA[Operation is Create List of Invoices]]>
            </documentation>
            <condition>$gbl_operation="CreateListOfInvoices"</condition>
            <sequence name="Sequence4">
              <invoke name="Invoke_EIAAsyncErrorHandlingBPELProcess" partnerLink="EIAAsyncErrorHandlingBPELProcessV1"
                      portType="ns3:EIAAsyncErrorHandlingBPELProcess" operation="processFault"
                      inputVariable="EIAAsyncErrorHandlingBPELProcessReqMsg" bpelx:invokeAsDetail="no"
                      xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                      xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
                <bpelx:toProperties>
                  <bpelx:toProperty name="endpointURI">eia:getEIAModuleProperty("ErrorHandler","endpointURI")</bpelx:toProperty>
                </bpelx:toProperties>
              </invoke>
              <reply name="Reply_CreateListofInvoiceSync" variable="CreateListOfInvoices_Sync_RespMsg"
                     partnerLink="InvoiceABS" portType="ns1:SyncPortType" operation="CreateListOfInvoices_Sync"
                     xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable" faultName="ns1:EIAFault"/>
              <assign name="Assign_ListInvoiceError">
                <copy>
                  <from>$CreateListOfInvoices_Sync_ReqMsg.CreateListOfInvoicesRequestMessage/ns14:HeaderRq/ns14:TransactionIDREF</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionId</to>
                </copy>
                <copy>
                  <from>$CreateListOfInvoices_Sync_ReqMsg.CreateListOfInvoicesRequestMessage/ns14:HeaderRq/ns14:ComponentID</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ComponentId</to>
                </copy>
                <copy>
                  <from>$CreateListOfInvoices_Sync_ReqMsg.CreateListOfInvoicesRequestMessage/ns14:HeaderRq/ns14:TransactionName</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionName</to>
                </copy>
                <copy>
                  <from>$CreateListOfInvoices_Sync_ReqMsg.CreateListOfInvoicesRequestMessage/ns14:HeaderRq/ns14:Source</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:SourceSystem</to>
                </copy>
                <copy>
                  <from>$CreateListOfInvoices_Sync_ReqMsg.CreateListOfInvoicesRequestMessage/ns14:HeaderRq/ns14:Target</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TargetSystem</to>
                </copy>
              </assign>
            </sequence>
          </elseif>
          <elseif>
            <documentation>
              <![CDATA[Operation is Launch Auto Invoice]]>
            </documentation>
            <condition>$gbl_operation = 'LaunchAutoInvoice'</condition>
            <sequence name="Sequence13">
              <invoke name="Invoke_EIAAsyncErrorHandlingBPELProcess" partnerLink="EIAAsyncErrorHandlingBPELProcessV1"
                      portType="ns3:EIAAsyncErrorHandlingBPELProcess" operation="processFault"
                      inputVariable="EIAAsyncErrorHandlingBPELProcessReqMsg" bpelx:invokeAsDetail="no">
                <bpelx:toProperties>
                  <bpelx:toProperty name="endpointURI">eia:getEIAModuleProperty("ErrorHandler","endpointURI")</bpelx:toProperty>
                </bpelx:toProperties>
              </invoke>
              <reply name="Reply_LaunchAutoInvoice" variable="EIAFaultMsg" partnerLink="InvoiceABS"
                     portType="ns1:SyncPortType" operation="LaunchAutoInvoice" faultName="ns1:EIAFault"/>
              <assign name="Assign_LaunchAutoInvoiceError">
                <copy>
                  <from>$LaunchAutoInvoice_ReqMsg.LaunchAutoInvoiceRequestMessage/ns14:HeaderRq/ns14:TransactionIDREF</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionId</to>
                </copy>
                <copy>
                  <from>$LaunchAutoInvoice_ReqMsg.LaunchAutoInvoiceRequestMessage/ns14:HeaderRq/ns14:TransactionName</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionName</to>
                </copy>
                <copy>
                  <from>$LaunchAutoInvoice_ReqMsg.LaunchAutoInvoiceRequestMessage/ns14:HeaderRq/ns14:ComponentID</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ComponentId</to>
                </copy>
                <copy>
                  <from>$LaunchAutoInvoice_ReqMsg.LaunchAutoInvoiceRequestMessage/ns14:HeaderRq/ns14:Source</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:SourceSystem</to>
                </copy>
                <copy>
                  <from>$LaunchAutoInvoice_ReqMsg.LaunchAutoInvoiceRequestMessage/ns14:HeaderRq/ns14:Target</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TargetSystem</to>
                </copy>
              </assign>
            </sequence>
          </elseif>
          <elseif>
            <documentation>
              <![CDATA[Operation is Launch Auto InvoiceAPI]]>
            </documentation>
            <condition>$gbl_operation = 'LaunchAutoInvoiceAPI'</condition>
            <sequence name="Sequence18">
              <invoke name="Invoke_EIAAsyncErrorHandlingBPELProcess" partnerLink="EIAAsyncErrorHandlingBPELProcessV1"
                      portType="ns3:EIAAsyncErrorHandlingBPELProcess" operation="processFault"
                      inputVariable="EIAAsyncErrorHandlingBPELProcessReqMsg" bpelx:invokeAsDetail="no">
                <bpelx:toProperties>
                  <bpelx:toProperty name="endpointURI">eia:getEIAModuleProperty("ErrorHandler","endpointURI")</bpelx:toProperty>
                </bpelx:toProperties>
              </invoke>
              <reply name="Reply_LaunchAutoInvoiceAPI" variable="EIAFaultMsg" partnerLink="InvoiceABS"
                     portType="ns1:SyncPortType" operation="LaunchAutoInvoiceAPI" faultName="ns1:EIAFault"/>
              <assign name="Assign_LaunchAutoInvoiceAPIError">
                <copy>
                  <from>$LaunchAutoInvoiceAPI_InputVariable.LaunchAutoInvoiceAPIRequestMessage/ns14:HeaderRq/ns14:TransactionIDREF</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionId</to>
                </copy>
                <copy>
                  <from>$LaunchAutoInvoiceAPI_InputVariable.LaunchAutoInvoiceAPIRequestMessage/ns14:HeaderRq/ns14:TransactionName</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionName</to>
                </copy>
                <copy>
                  <from>$LaunchAutoInvoiceAPI_InputVariable.LaunchAutoInvoiceAPIRequestMessage/ns14:HeaderRq/ns14:ComponentID</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ComponentId</to>
                </copy>
                <copy>
                  <from>$LaunchAutoInvoiceAPI_InputVariable.LaunchAutoInvoiceAPIRequestMessage/ns14:HeaderRq/ns14:Source</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:SourceSystem</to>
                </copy>
                <copy>
                  <from>$LaunchAutoInvoiceAPI_InputVariable.LaunchAutoInvoiceAPIRequestMessage/ns14:HeaderRq/ns14:Target</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TargetSystem</to>
                </copy>
              </assign>
            </sequence>
          </elseif>
          <else>
            <documentation>
              <![CDATA[Operation is Query Invoice]]>
            </documentation>
            <sequence name="Sequence3">
              <invoke name="Invoke_EIAAsyncErrorHandlingBPELProcess" partnerLink="EIAAsyncErrorHandlingBPELProcessV1"
                      portType="ns3:EIAAsyncErrorHandlingBPELProcess" operation="processFault"
                      inputVariable="EIAAsyncErrorHandlingBPELProcessReqMsg" bpelx:invokeAsDetail="no">
                <bpelx:toProperties>
                  <bpelx:toProperty name="endpointURI">eia:getEIAModuleProperty("ErrorHandler","endpointURI")</bpelx:toProperty>
                </bpelx:toProperties>
              </invoke>
              <reply name="Reply_QueryByExample_Sync" faultName="ns1:EIAFault" variable="EIAFaultMsg"
                     partnerLink="InvoiceABS" portType="ns1:SyncPortType" operation="QueryInvoiceById_Sync"/>
              <assign name="Assign_QueryInvoiceError">
                <copy>
                  <from>$QueryByExample_SyncReqMsg.QueryInvoiceRequestMessage/ns14:HeaderRq/ns14:TransactionIDREF</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionId</to>
                </copy>
                <copy>
                  <from>$QueryByExample_SyncReqMsg.QueryInvoiceRequestMessage/ns14:HeaderRq/ns14:ComponentID</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ComponentId</to>
                </copy>
                <copy>
                  <from>$QueryByExample_SyncReqMsg.QueryInvoiceRequestMessage/ns14:HeaderRq/ns14:TransactionName</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionName</to>
                </copy>
                <copy>
                  <from>$QueryByExample_SyncReqMsg.QueryInvoiceRequestMessage/ns14:HeaderRq/ns14:Source</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:SourceSystem</to>
                </copy>
                <copy>
                  <from>$QueryByExample_SyncReqMsg.QueryInvoiceRequestMessage/ns14:HeaderRq/ns14:Target</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TargetSystem</to>
                </copy>
              </assign>
            </sequence>
          </else>
        </if>
        <assign name="Assign_Error">
          <copy>
            <from>'NextGen'</from>
            <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ProjectName</to>
          </copy>
          <copy>
            <from>ora:getCompositeName()</from>
            <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ProcessName</to>
          </copy>
          <copy>
            <from>1</from>
            <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:LoggingSystem</to>
          </copy>
          <copy>
            <from>4</from>
            <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:LogType</to>
          </copy>
          <copy>
            <from>concat('FlowId:',ora:getFlowId(),':',$EIAFaultMsg.Fault/ns2:FaultMessage/ns2:Text)</from>
            <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:MessageDescription</to>
          </copy>
          <copy>
            <from>2</from>
            <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionStatus</to>
          </copy>
          <copy>
            <from>'SOA'</from>
            <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:CreatedBy</to>
          </copy>
          <copy>
            <from>'SOA'</from>
            <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:UpdatedBy</to>
          </copy>
        </assign>
        <invoke name="Invoke_CommonLogging_PL" partnerLink="CommonLogging_PL" portType="ns16:CommonLogging"
                operation="process" inputVariable="Invoke_CommonLogging_PL_process_InputVariable"
                bpelx:invokeAsDetail="no">
          <bpelx:toProperties>
            <bpelx:toProperty name="endpointURI">eia:getEIAServiceProperty("CommonLogging","endpointURI")</bpelx:toProperty>
          </bpelx:toProperties>
        </invoke>
        <rethrow name="Rethrow"/>
      </sequence>
    </catch>
    <catchAll>
      <sequence name="CatchAll">
        <assign name="setEIAFaultMsg">
          <copy>
            <from>ora:doXSLTransformForDoc("xsl/setEIAFaultMsg.xsl", $EIA_HEADER_MESSAGE)</from>
            <to>$EIAFaultMsg.Fault</to>
          </copy>
          <copy>
            <from>ora:getFaultName()</from>
            <to>$EIAFaultMsg.Fault/ns2:FaultMessage/ns2:Code</to>
          </copy>
          <copy>
            <from>ora:getFaultAsString()</from>
            <to>$EIAFaultMsg.Fault/ns2:FaultMessage/ns2:Text</to>
          </copy>
          <copy>
            <from>"1.0"</from>
            <to>$EIAFaultMsg.Fault/ns2:FaultMessage/ns2:Severity</to>
          </copy>
          <copy>
            <from>ora:getFaultAsString()</from>
            <to>$EIAFaultMsg.Fault/ns2:FaultMessage/ns2:Stack</to>
          </copy>
        </assign>
        <assign name="XformEIAFaultMsg_EIAAsyncErrorHandlingBPELProcessReqMsg">
          <bpelx:annotation>
            <bpelx:pattern patternName="bpelx:transformation"></bpelx:pattern>
          </bpelx:annotation>
          <copy>
            <from>ora:doXSLTransformForDoc("xsl/XformEIAFaultMsg_EIAAsyncErrorHandlingBPELProcessReqMsg.xsl", $EIAFaultMsg.Fault)</from>
            <to variable="EIAAsyncErrorHandlingBPELProcessReqMsg" part="FaultMessage"/>
          </copy>
        </assign>
        <if name="On_Operation" xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
          <documentation>
            <![CDATA[Operation is Create Invoice]]>
          </documentation>
          <condition>$gbl_operation="CreateInvoice_Sync"</condition>
          <sequence name="Sequence2">
            <invoke name="Invoke_EIAAsyncErrorHandlingBPELProcess" partnerLink="EIAAsyncErrorHandlingBPELProcessV1"
                    portType="ns3:EIAAsyncErrorHandlingBPELProcess" operation="processFault"
                    inputVariable="EIAAsyncErrorHandlingBPELProcessReqMsg"
                    xmlns:bpelx="http://schemas.oracle.com/bpel/extension" bpelx:invokeAsDetail="no">
              <bpelx:toProperties>
                <bpelx:toProperty name="endpointURI">eia:getEIAModuleProperty("ErrorHandler","endpointURI")</bpelx:toProperty>
              </bpelx:toProperties>
            </invoke>
            <reply name="Reply_CreateInvoice_Sync" faultName="ns1:EIAFault" variable="EIAFaultMsg"
                   partnerLink="InvoiceABS" portType="ns1:SyncPortType" operation="CreateInvoice_Sync"/>
            <assign name="Assign_CreateInvoiceError">
              <copy>
                <from>$CreateInvoice_SyncReqMsg.CreateInvoiceRequestMessage/ns14:HeaderRq/ns14:TransactionIDREF</from>
                <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionId</to>
              </copy>
              <copy>
                <from>$CreateInvoice_SyncReqMsg.CreateInvoiceRequestMessage/ns14:HeaderRq/ns14:TransactionName</from>
                <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionName</to>
              </copy>
              <copy>
                <from>$CreateInvoice_SyncReqMsg.CreateInvoiceRequestMessage/ns14:HeaderRq/ns14:ComponentID</from>
                <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ComponentId</to>
              </copy>
              <copy>
                <from>$CreateInvoice_SyncReqMsg.CreateInvoiceRequestMessage/ns14:HeaderRq/ns14:Source</from>
                <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:SourceSystem</to>
              </copy>
              <copy>
                <from>$CreateInvoice_SyncReqMsg.CreateInvoiceRequestMessage/ns14:HeaderRq/ns14:Target</from>
                <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TargetSystem</to>
              </copy>
            </assign>
          </sequence>
          <elseif xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
            <documentation>
              <![CDATA[Operation is Create List of Invoices]]>
            </documentation>
            <condition>$gbl_operation="CreateListOfInvoices"</condition>
            <sequence name="Sequence4">
              <invoke name="Invoke_EIAAsyncErrorHandlingBPELProcess" partnerLink="EIAAsyncErrorHandlingBPELProcessV1"
                      portType="ns3:EIAAsyncErrorHandlingBPELProcess" operation="processFault"
                      inputVariable="EIAAsyncErrorHandlingBPELProcessReqMsg" bpelx:invokeAsDetail="no"
                      xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                      xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
                <bpelx:toProperties>
                  <bpelx:toProperty name="endpointURI">eia:getEIAModuleProperty("ErrorHandler","endpointURI")</bpelx:toProperty>
                </bpelx:toProperties>
              </invoke>
              <reply name="Reply_CreateListOfInvoiceSync" variable="CreateListOfInvoices_Sync_RespMsg"
                     partnerLink="InvoiceABS" portType="ns1:SyncPortType" operation="CreateListOfInvoices_Sync"
                     xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable"/>
              <assign name="Assign_CreateListOfInvoiceError">
                <copy>
                  <from>$CreateListOfInvoices_Sync_ReqMsg.CreateListOfInvoicesRequestMessage/ns14:HeaderRq/ns14:TransactionIDREF</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionId</to>
                </copy>
                <copy>
                  <from>$CreateListOfInvoices_Sync_ReqMsg.CreateListOfInvoicesRequestMessage/ns14:HeaderRq/ns14:ComponentID</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ComponentId</to>
                </copy>
                <copy>
                  <from>$CreateListOfInvoices_Sync_ReqMsg.CreateListOfInvoicesRequestMessage/ns14:HeaderRq/ns14:TransactionName</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionName</to>
                </copy>
                <copy>
                  <from>$CreateListOfInvoices_Sync_ReqMsg.CreateListOfInvoicesRequestMessage/ns14:HeaderRq/ns14:Source</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:SourceSystem</to>
                </copy>
                <copy>
                  <from>$CreateListOfInvoices_Sync_ReqMsg.CreateListOfInvoicesRequestMessage/ns14:HeaderRq/ns14:Target</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TargetSystem</to>
                </copy>
              </assign>
            </sequence>
          </elseif>
          <elseif>
            <documentation>
              <![CDATA[Operation is Launch Auto Invoice]]>
            </documentation>
            <condition>$gbl_operation = 'LaunchAutoInvoice'</condition>
            <sequence name="Sequence14">
              <invoke name="Invoke_EIAAsyncErrorHandlingBPELProcess" partnerLink="EIAAsyncErrorHandlingBPELProcessV1"
                      portType="ns3:EIAAsyncErrorHandlingBPELProcess" operation="processFault"
                      inputVariable="EIAAsyncErrorHandlingBPELProcessReqMsg" bpelx:invokeAsDetail="no">
                <bpelx:toProperties>
                  <bpelx:toProperty name="endpointURI">eia:getEIAModuleProperty("ErrorHandler","endpointURI")</bpelx:toProperty>
                </bpelx:toProperties>
              </invoke>
              <reply name="Reply_LaunchAutoInvoice" faultName="ns1:EIAFault" variable="EIAFaultMsg"
                     partnerLink="InvoiceABS" portType="ns1:SyncPortType" operation="LaunchAutoInvoice"/>
              <assign name="Assign_LaunchAutoInvoiceError">
                <copy>
                  <from>$LaunchAutoInvoice_ReqMsg.LaunchAutoInvoiceRequestMessage/ns14:HeaderRq/ns14:TransactionIDREF</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionId</to>
                </copy>
                <copy>
                  <from>$LaunchAutoInvoice_ReqMsg.LaunchAutoInvoiceRequestMessage/ns14:HeaderRq/ns14:TransactionName</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionName</to>
                </copy>
                <copy>
                  <from>$LaunchAutoInvoice_ReqMsg.LaunchAutoInvoiceRequestMessage/ns14:HeaderRq/ns14:ComponentID</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ComponentId</to>
                </copy>
                <copy>
                  <from>$LaunchAutoInvoice_ReqMsg.LaunchAutoInvoiceRequestMessage/ns14:HeaderRq/ns14:Source</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:SourceSystem</to>
                </copy>
                <copy>
                  <from>$LaunchAutoInvoice_ReqMsg.LaunchAutoInvoiceRequestMessage/ns14:HeaderRq/ns14:Target</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TargetSystem</to>
                </copy>
              </assign>
            </sequence>
          </elseif>
          <elseif>
            <documentation>
              <![CDATA[Operation is Launch Auto InvoiceAPI]]>
            </documentation>
            <condition>$gbl_operation = 'LaunchAutoInvoiceAPI'</condition>
            <sequence name="Sequence19">
              <invoke name="Invoke_EIAAsyncErrorHandlingBPELProcess" partnerLink="EIAAsyncErrorHandlingBPELProcessV1"
                      portType="ns3:EIAAsyncErrorHandlingBPELProcess" operation="processFault"
                      inputVariable="EIAAsyncErrorHandlingBPELProcessReqMsg" bpelx:invokeAsDetail="no">
                <bpelx:toProperties>
                  <bpelx:toProperty name="endpointURI">eia:getEIAModuleProperty("ErrorHandler","endpointURI")</bpelx:toProperty>
                </bpelx:toProperties>
              </invoke>
              <reply name="Reply_LaunchAutoInvoice" faultName="ns1:EIAFault" variable="EIAFaultMsg"
                     partnerLink="InvoiceABS" portType="ns1:SyncPortType" operation="LaunchAutoInvoiceAPI"/>
              <assign name="Assign_LaunchAutoInvoiceAPIError">
                <copy>
                  <from>$LaunchAutoInvoiceAPI_InputVariable.LaunchAutoInvoiceAPIRequestMessage/ns14:HeaderRq/ns14:TransactionIDREF</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionId</to>
                </copy>
                <copy>
                  <from>$LaunchAutoInvoiceAPI_InputVariable.LaunchAutoInvoiceAPIRequestMessage/ns14:HeaderRq/ns14:TransactionName</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionName</to>
                </copy>
                <copy>
                  <from>$LaunchAutoInvoiceAPI_InputVariable.LaunchAutoInvoiceAPIRequestMessage/ns14:HeaderRq/ns14:ComponentID</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ComponentId</to>
                </copy>
                <copy>
                  <from>$LaunchAutoInvoiceAPI_InputVariable.LaunchAutoInvoiceAPIRequestMessage/ns14:HeaderRq/ns14:Source</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:SourceSystem</to>
                </copy>
                <copy>
                  <from>$LaunchAutoInvoiceAPI_InputVariable.LaunchAutoInvoiceAPIRequestMessage/ns14:HeaderRq/ns14:Target</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TargetSystem</to>
                </copy>
              </assign>
            </sequence>
          </elseif>
          <else>
            <documentation>
              <![CDATA[Operation is Query Invoice]]>
            </documentation>
            <sequence name="Sequence3">
              <invoke name="Invoke_EIAAsyncErrorHandlingBPELProcess" partnerLink="EIAAsyncErrorHandlingBPELProcessV1"
                      portType="ns3:EIAAsyncErrorHandlingBPELProcess" operation="processFault"
                      inputVariable="EIAAsyncErrorHandlingBPELProcessReqMsg"
                      xmlns:bpelx="http://schemas.oracle.com/bpel/extension" bpelx:invokeAsDetail="no">
                <bpelx:toProperties>
                  <bpelx:toProperty name="endpointURI">eia:getEIAModuleProperty("ErrorHandler","endpointURI")</bpelx:toProperty>
                </bpelx:toProperties>
              </invoke>
              <reply name="Reply_QueryByExample_Sync" faultName="ns1:EIAFault" variable="EIAFaultMsg"
                     partnerLink="InvoiceABS" portType="ns1:SyncPortType" operation="QueryInvoiceById_Sync"/>
              <assign name="Assign_QueryInvoiceError">
                <copy>
                  <from>$QueryByExample_SyncReqMsg.QueryInvoiceRequestMessage/ns14:HeaderRq/ns14:TransactionIDREF</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionId</to>
                </copy>
                <copy>
                  <from>$QueryByExample_SyncReqMsg.QueryInvoiceRequestMessage/ns14:HeaderRq/ns14:ComponentID</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ComponentId</to>
                </copy>
                <copy>
                  <from>$QueryByExample_SyncReqMsg.QueryInvoiceRequestMessage/ns14:HeaderRq/ns14:TransactionName</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionName</to>
                </copy>
                <copy>
                  <from>$QueryByExample_SyncReqMsg.QueryInvoiceRequestMessage/ns14:HeaderRq/ns14:Source</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:SourceSystem</to>
                </copy>
                <copy>
                  <from>$QueryByExample_SyncReqMsg.QueryInvoiceRequestMessage/ns14:HeaderRq/ns14:Target</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TargetSystem</to>
                </copy>
              </assign>
            </sequence>
          </else>
        </if>
        <assign name="Assign_Error">
          <copy>
            <from>'NextGen'</from>
            <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ProjectName</to>
          </copy>
          <copy>
            <from>ora:getCompositeName()</from>
            <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ProcessName</to>
          </copy>
          <copy>
            <from>1</from>
            <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:LoggingSystem</to>
          </copy>
          <copy>
            <from>4</from>
            <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:LogType</to>
          </copy>
          <copy>
            <from>concat('FlowId:',ora:getFlowId(),':',$EIAFaultMsg.Fault/ns2:FaultMessage/ns2:Text)</from>
            <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:MessageDescription</to>
          </copy>
          <copy>
            <from>2</from>
            <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionStatus</to>
          </copy>
          <copy>
            <from>'SOA'</from>
            <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:CreatedBy</to>
          </copy>
          <copy>
            <from>'SOA'</from>
            <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:UpdatedBy</to>
          </copy>
        </assign>
        <invoke name="Invoke_CommonLogging_PL" partnerLink="CommonLogging_PL" portType="ns16:CommonLogging"
                operation="process" inputVariable="Invoke_CommonLogging_PL_process_InputVariable"
                bpelx:invokeAsDetail="no">
          <bpelx:toProperties>
            <bpelx:toProperty name="endpointURI">eia:getEIAServiceProperty("CommonLogging","endpointURI")</bpelx:toProperty>
          </bpelx:toProperties>
        </invoke>
        <rethrow name="Rethrow"/>
      </sequence>
    </catchAll>
  </faultHandlers>
  <sequence name="main">
    <pick name="Pick1" createInstance="yes">
      <onMessage variable="CreateInvoice_SyncReqMsg" partnerLink="InvoiceABS" portType="ns1:SyncPortType"
                 operation="CreateInvoice_Sync">
        <sequence name="CreateInvoice_Sync">
          <scope name="Scope_StartLogging_CreateInvoice">
            <variables>
              <variable name="Invoke_CommonLogging_PL_process_InputVariable"
                        messageType="ns16:CommonLoggingRequestMessage"/>
            </variables>
            <faultHandlers>
              <catchAll>
                <empty name="Empty"/>
              </catchAll>
            </faultHandlers>
            <sequence name="Sequence5">
              <assign name="Assign_StartLogging">
                <copy>
                  <from>$CreateInvoice_SyncReqMsg.CreateInvoiceRequestMessage/ns14:HeaderRq/ns14:TransactionIDREF</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionId</to>
                </copy>
                <copy>
                  <from>'NextGen'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ProjectName</to>
                </copy>
                <copy>
                  <from>$CreateInvoice_SyncReqMsg.CreateInvoiceRequestMessage/ns14:HeaderRq/ns14:ComponentID</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ComponentId</to>
                </copy>
                <copy>
                  <from>$CreateInvoice_SyncReqMsg.CreateInvoiceRequestMessage/ns14:HeaderRq/ns14:TransactionName</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionName</to>
                </copy>
                <copy>
                  <from>ora:getCompositeName()</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ProcessName</to>
                </copy>
                <copy>
                  <from>1</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:LoggingSystem</to>
                </copy>
                <copy>
                  <from>$CreateInvoice_SyncReqMsg.CreateInvoiceRequestMessage/ns14:HeaderRq/ns14:Source</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:SourceSystem</to>
                </copy>
                <copy>
                  <from>$CreateInvoice_SyncReqMsg.CreateInvoiceRequestMessage/ns14:HeaderRq/ns14:Target</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TargetSystem</to>
                </copy>
                <copy>
                  <from>1</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:LogType</to>
                </copy>
                <copy>
                  <from>'BMG-003'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:MessageCode</to>
                </copy>
                <copy>
                  <from>1</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionStatus</to>
                </copy>
                <copy>
                  <from>'SOA'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:CreatedBy</to>
                </copy>
                <copy>
                  <from>'SOA'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:UpdatedBy</to>
                </copy>
              </assign>
              <invoke name="Invoke_CommonLogging_PL" partnerLink="CommonLogging_PL" portType="ns16:CommonLogging"
                      operation="process" inputVariable="Invoke_CommonLogging_PL_process_InputVariable"
                      bpelx:invokeAsDetail="no">
                <bpelx:skipCondition>eia:getEIAServiceProperty("CommonLogging","LOGGING.ENABLED") = "false"</bpelx:skipCondition>
                <bpelx:toProperties>
                  <bpelx:toProperty name="endpointURI">eia:getEIAServiceProperty("CommonLogging","endpointURI")</bpelx:toProperty>
                </bpelx:toProperties>
              </invoke>
            </sequence>
          </scope>
          <assign name="setEHM">
            <copy>
              <from>xp20:current-dateTime()</from>
              <to>$EIA_HEADER_MESSAGE/ns2:ProcessStartTime</to>
            </copy>
            <copy>
              <from>ora:getCompositeName()</from>
              <to>$EIA_HEADER_MESSAGE/ns2:ProcessName</to>
            </copy>
            <copy>
              <from>ora:getComponentInstanceId()</from>
              <to>$EIA_HEADER_MESSAGE/ns2:ProcessInstanceID</to>
            </copy>
            <copy>
              <from>ora:getProcessVersion()</from>
              <to>$EIA_HEADER_MESSAGE/ns2:ProcessRevision</to>
            </copy>
            <copy>
              <from>ora:getProcessId()</from>
              <to>$EIA_HEADER_MESSAGE/ns2:ProcessDN</to>
            </copy>
          </assign>
          <assign name="setCompositeInformation">
            <copy>
              <from>"CreateInvoice_Sync"</from>
              <to>$gbl_operation</to>
            </copy>
            <copy>
              <from>ora:setCompositeInstanceTitle(concat("AP Invoice ",$gbl_operation))</from>
              <to>$gbl_title</to>
            </copy>
          </assign>
          <assign name="Xform_CreateInvoice_SyncReqMsg_To_OA_CreateInvoiceEBS_ReqMsg">
            <bpelx:annotation>
              <bpelx:pattern patternName="bpelx:transformation"></bpelx:pattern>
            </bpelx:annotation>
            <copy>
              <from>ora:doXSLTransformForDoc("xsl/Xform_CreateInvoice_SyncReqMsg_To_OA_CreateInvoiceEBS_ReqMsg.xsl", $CreateInvoice_SyncReqMsg.CreateInvoiceRequestMessage)</from>
              <to variable="OA_CreateInvoiceEBS_ReqMsg" part="ApInvoicesInterfaceCollection"/>
            </copy>
          </assign>
          <invoke name="Invoke_OA_CreateInvoiceEBS" partnerLink="OA_CreateInvoiceEBS"
                  portType="ns4:OA_CreateInvoiceEBS_ptt" operation="insert" inputVariable="OA_CreateInvoiceEBS_ReqMsg"
                  bpelx:invokeAsDetail="no">
            <bpelx:toProperties>
              <bpelx:toProperty name="jca.apps.Username">$CreateInvoice_SyncReqMsg.CreateInvoiceRequestMessage/ns5:AppsContext/ns7:UserName</bpelx:toProperty>
              <bpelx:toProperty name="jca.apps.Responsibility">$CreateInvoice_SyncReqMsg.CreateInvoiceRequestMessage/ns5:AppsContext/ns7:ResponsibilityName</bpelx:toProperty>
              <bpelx:toProperty name="jca.apps.ORG_ID">$CreateInvoice_SyncReqMsg.CreateInvoiceRequestMessage/ns5:AppsContext/ns7:OrgId</bpelx:toProperty>
            </bpelx:toProperties>
          </invoke>
          <assign name="Set_CreateInvoice_SyncRespMsg">
            <copy>
              <from>'S'</from>
              <to>$CreateInvoice_SyncRespMsg.CreateInvoiceResponseMessage/ns5:OperationResult/ns6:Stats</to>
            </copy>
            <copy>
              <from>$CreateInvoice_SyncReqMsg.CreateInvoiceRequestMessage/ns14:HeaderRq</from>
              <to>$CreateInvoice_SyncRespMsg.CreateInvoiceResponseMessage/ns14:HeaderRs/ns14:RequestDetails</to>
            </copy>
            <copy>
              <from>'SUCCESS'</from>
              <to>$CreateInvoice_SyncRespMsg.CreateInvoiceResponseMessage/ns14:HeaderRs/ns14:Status/ns14:Status</to>
            </copy>
          </assign>
          <reply name="Reply_CreateInvoiceSync" variable="CreateInvoice_SyncRespMsg" partnerLink="InvoiceABS"
                 portType="ns1:SyncPortType" operation="CreateInvoice_Sync"/>
          <scope name="Scope_EndLogging_CreateInvoice">
            <variables>
              <variable name="Invoke_CommonLogging_PL_process_InputVariable"
                        messageType="ns16:CommonLoggingRequestMessage"/>
            </variables>
            <faultHandlers>
              <catchAll>
                <empty name="Empty"/>
              </catchAll>
            </faultHandlers>
            <sequence name="Sequence6">
              <assign name="Assign_EndLogging">
                <copy>
                  <from>$CreateInvoice_SyncReqMsg.CreateInvoiceRequestMessage/ns14:HeaderRq/ns14:TransactionIDREF</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionId</to>
                </copy>
                <copy>
                  <from>'NextGen'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ProjectName</to>
                </copy>
                <copy>
                  <from>$CreateInvoice_SyncReqMsg.CreateInvoiceRequestMessage/ns14:HeaderRq/ns14:ComponentID</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ComponentId</to>
                </copy>
                <copy>
                  <from>$CreateInvoice_SyncReqMsg.CreateInvoiceRequestMessage/ns14:HeaderRq/ns14:TransactionName</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionName</to>
                </copy>
                <copy>
                  <from>ora:getCompositeName()</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ProcessName</to>
                </copy>
                <copy>
                  <from>1</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:LoggingSystem</to>
                </copy>
                <copy>
                  <from>$CreateInvoice_SyncReqMsg.CreateInvoiceRequestMessage/ns14:HeaderRq/ns14:Source</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:SourceSystem</to>
                </copy>
                <copy>
                  <from>$CreateInvoice_SyncReqMsg.CreateInvoiceRequestMessage/ns14:HeaderRq/ns14:Target</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TargetSystem</to>
                </copy>
                <copy>
                  <from>1</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:LogType</to>
                </copy>
                <copy>
                  <from>'BMG-003'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:MessageCode</to>
                </copy>
                <copy>
                  <from>1</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionStatus</to>
                </copy>
                <copy>
                  <from>'SOA'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:CreatedBy</to>
                </copy>
                <copy>
                  <from>'SOA'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:UpdatedBy</to>
                </copy>
              </assign>
              <invoke name="Invoke_CommonLogging_PL" partnerLink="CommonLogging_PL" portType="ns16:CommonLogging"
                      operation="process" inputVariable="Invoke_CommonLogging_PL_process_InputVariable"
                      bpelx:invokeAsDetail="no">
                <bpelx:skipCondition>eia:getEIAServiceProperty("CommonLogging","LOGGING.ENABLED") = "false"</bpelx:skipCondition>
                <bpelx:toProperties>
                  <bpelx:toProperty name="endpointURI">eia:getEIAServiceProperty("CommonLogging","endpointURI")</bpelx:toProperty>
                </bpelx:toProperties>
              </invoke>
            </sequence>
          </scope>
        </sequence>
      </onMessage>
      <onMessage variable="QueryByExample_SyncReqMsg" partnerLink="InvoiceABS" portType="ns1:SyncPortType"
                 operation="QueryInvoiceById_Sync">
        <sequence name="QueryByExample_Sync">
          <scope name="Scope_StartLogging_QueryInvoiceById">
            <variables>
              <variable name="Invoke_CommonLogging_PL_process_InputVariable"
                        messageType="ns16:CommonLoggingRequestMessage"/>
            </variables>
            <faultHandlers>
              <catchAll>
                <empty name="Empty"/>
              </catchAll>
            </faultHandlers>
            <sequence name="Sequence12">
              <assign name="Assign_StartLogging">
                <copy>
                  <from>$QueryByExample_SyncReqMsg.QueryInvoiceRequestMessage/ns14:HeaderRq/ns14:TransactionIDREF</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionId</to>
                </copy>
                <copy>
                  <from>'NextGen'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ProjectName</to>
                </copy>
                <copy>
                  <from>$QueryByExample_SyncReqMsg.QueryInvoiceRequestMessage/ns14:HeaderRq/ns14:ComponentID</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ComponentId</to>
                </copy>
                <copy>
                  <from>$QueryByExample_SyncReqMsg.QueryInvoiceRequestMessage/ns14:HeaderRq/ns14:TransactionName</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionName</to>
                </copy>
                <copy>
                  <from>ora:getCompositeName()</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ProcessName</to>
                </copy>
                <copy>
                  <from>1</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:LoggingSystem</to>
                </copy>
                <copy>
                  <from>$QueryByExample_SyncReqMsg.QueryInvoiceRequestMessage/ns14:HeaderRq/ns14:Source</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:SourceSystem</to>
                </copy>
                <copy>
                  <from>$QueryByExample_SyncReqMsg.QueryInvoiceRequestMessage/ns14:HeaderRq/ns14:Target</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TargetSystem</to>
                </copy>
                <copy>
                  <from>1</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:LogType</to>
                </copy>
                <copy>
                  <from>'BMG-003'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:MessageCode</to>
                </copy>
                <copy>
                  <from>1</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionStatus</to>
                </copy>
                <copy>
                  <from>'SOA'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:CreatedBy</to>
                </copy>
                <copy>
                  <from>'SOA'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:UpdatedBy</to>
                </copy>
              </assign>
              <invoke name="Invoke_CommonLogging_PL" partnerLink="CommonLogging_PL" portType="ns16:CommonLogging"
                      operation="process" inputVariable="Invoke_CommonLogging_PL_process_InputVariable"
                      bpelx:invokeAsDetail="no">
                <bpelx:skipCondition>eia:getEIAServiceProperty("CommonLogging","LOGGING.ENABLED") = "false"</bpelx:skipCondition>
                <bpelx:toProperties>
                  <bpelx:toProperty name="endpointURI">eia:getEIAServiceProperty("CommonLogging","endpointURI")</bpelx:toProperty>
                </bpelx:toProperties>
              </invoke>
            </sequence>
          </scope>
          <assign name="setEHM" xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
            <copy>
              <from>xp20:current-dateTime()</from>
              <to>$EIA_HEADER_MESSAGE/ns2:ProcessStartTime</to>
            </copy>
            <copy>
              <from>ora:getCompositeName()</from>
              <to>$EIA_HEADER_MESSAGE/ns2:ProcessName</to>
            </copy>
            <copy>
              <from>ora:getComponentInstanceId()</from>
              <to>$EIA_HEADER_MESSAGE/ns2:ProcessInstanceID</to>
            </copy>
            <copy>
              <from>ora:getProcessVersion()</from>
              <to>$EIA_HEADER_MESSAGE/ns2:ProcessRevision</to>
            </copy>
            <copy>
              <from>ora:getProcessId()</from>
              <to>$EIA_HEADER_MESSAGE/ns2:ProcessDN</to>
            </copy>
          </assign>
          <assign name="setCompositeInformation" xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
            <copy>
              <from>"QueryInvoiceById_Sync"</from>
              <to>$gbl_operation</to>
            </copy>
            <copy>
              <from>ora:setCompositeInstanceTitle(concat("AP Invoice ",$gbl_operation))</from>
              <to>$gbl_title</to>
            </copy>
          </assign>
          <empty name="Empty2"/>
          <assign name="Assign_Header">
            <copy>
              <from>$QueryByExample_SyncReqMsg.QueryInvoiceRequestMessage/ns14:HeaderRq</from>
              <to>$QueryByExample_SyncRespMsg.QueryInvoiceResponseMessage/ns14:HeaderRs/ns14:RequestDetails</to>
            </copy>
            <copy>
              <from>'SUCCESS'</from>
              <to>$QueryByExample_SyncRespMsg.QueryInvoiceResponseMessage/ns14:HeaderRs/ns14:Status/ns14:Status</to>
            </copy>
          </assign>
          <reply name="Reply_Query_Invoice_ByExample_Sync" variable="QueryByExample_SyncRespMsg"
                 partnerLink="InvoiceABS" portType="ns1:SyncPortType" operation="QueryInvoiceById_Sync"/>
          <scope name="Scope_EndLogging_QueryInvoiceById">
            <variables>
              <variable name="Invoke_CommonLogging_PL_process_InputVariable"
                        messageType="ns16:CommonLoggingRequestMessage"/>
            </variables>
            <faultHandlers>
              <catchAll>
                <empty name="Empty"/>
              </catchAll>
            </faultHandlers>
            <sequence name="Sequence7">
              <assign name="Assign_EndLogging">
                <copy>
                  <from>$QueryByExample_SyncReqMsg.QueryInvoiceRequestMessage/ns14:HeaderRq/ns14:TransactionIDREF</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionId</to>
                </copy>
                <copy>
                  <from>'NextGen'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ProjectName</to>
                </copy>
                <copy>
                  <from>$QueryByExample_SyncReqMsg.QueryInvoiceRequestMessage/ns14:HeaderRq/ns14:ComponentID</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ComponentId</to>
                </copy>
                <copy>
                  <from>$QueryByExample_SyncReqMsg.QueryInvoiceRequestMessage/ns14:HeaderRq/ns14:TransactionName</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionName</to>
                </copy>
                <copy>
                  <from>ora:getCompositeName()</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ProcessName</to>
                </copy>
                <copy>
                  <from>1</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:LoggingSystem</to>
                </copy>
                <copy>
                  <from>$QueryByExample_SyncReqMsg.QueryInvoiceRequestMessage/ns14:HeaderRq/ns14:Source</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:SourceSystem</to>
                </copy>
                <copy>
                  <from>$QueryByExample_SyncReqMsg.QueryInvoiceRequestMessage/ns14:HeaderRq/ns14:Target</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TargetSystem</to>
                </copy>
                <copy>
                  <from>1</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:LogType</to>
                </copy>
                <copy>
                  <from>'BMG-003'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:MessageCode</to>
                </copy>
                <copy>
                  <from>1</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionStatus</to>
                </copy>
                <copy>
                  <from>'SOA'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:CreatedBy</to>
                </copy>
                <copy>
                  <from>'SOA'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:UpdatedBy</to>
                </copy>
              </assign>
              <invoke name="Invoke_CommonLogging_PL" partnerLink="CommonLogging_PL" portType="ns16:CommonLogging"
                      operation="process" inputVariable="Invoke_CommonLogging_PL_process_InputVariable"
                      bpelx:invokeAsDetail="no">
                <bpelx:skipCondition>eia:getEIAServiceProperty("CommonLogging","LOGGING.ENABLED") = "false"</bpelx:skipCondition>
                <bpelx:toProperties>
                  <bpelx:toProperty name="endpointURI">eia:getEIAServiceProperty("CommonLogging","endpointURI")</bpelx:toProperty>
                </bpelx:toProperties>
              </invoke>
            </sequence>
          </scope>
        </sequence>
      </onMessage>
      <onMessage variable="LaunchAutoInvoice_ReqMsg" partnerLink="InvoiceABS" portType="ns1:SyncPortType"
                 operation="LaunchAutoInvoice">
        <sequence name="LaunchAutoInvoice">
          <scope name="Scope_StartLogging_LaunchAutoInvoice">
            <variables>
              <variable name="Invoke_CommonLogging_PL_process_InputVariable"
                        messageType="ns16:CommonLoggingRequestMessage"/>
            </variables>
            <faultHandlers>
              <catchAll>
                <empty name="Empty"/>
              </catchAll>
            </faultHandlers>
            <sequence name="Sequence11">
              <assign name="Assign_StartLogging">
                <copy>
                  <from>$LaunchAutoInvoice_ReqMsg.LaunchAutoInvoiceRequestMessage/ns14:HeaderRq/ns14:TransactionIDREF</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionId</to>
                </copy>
                <copy>
                  <from>'NextGen'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ProjectName</to>
                </copy>
                <copy>
                  <from>$LaunchAutoInvoice_ReqMsg.LaunchAutoInvoiceRequestMessage/ns14:HeaderRq/ns14:ComponentID</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ComponentId</to>
                </copy>
                <copy>
                  <from>$LaunchAutoInvoice_ReqMsg.LaunchAutoInvoiceRequestMessage/ns14:HeaderRq/ns14:TransactionName</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionName</to>
                </copy>
                <copy>
                  <from>ora:getCompositeName()</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ProcessName</to>
                </copy>
                <copy>
                  <from>1</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:LoggingSystem</to>
                </copy>
                <copy>
                  <from>$LaunchAutoInvoice_ReqMsg.LaunchAutoInvoiceRequestMessage/ns14:HeaderRq/ns14:Source</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:SourceSystem</to>
                </copy>
                <copy>
                  <from>$LaunchAutoInvoice_ReqMsg.LaunchAutoInvoiceRequestMessage/ns14:HeaderRq/ns14:Target</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TargetSystem</to>
                </copy>
                <copy>
                  <from>1</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:LogType</to>
                </copy>
                <copy>
                  <from>'BMG-003'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:MessageCode</to>
                </copy>
                <copy>
                  <from>1</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionStatus</to>
                </copy>
                <copy>
                  <from>'SOA'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:CreatedBy</to>
                </copy>
                <copy>
                  <from>'SOA'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:UpdatedBy</to>
                </copy>
              </assign>
              <invoke name="Invoke_CommonLogging_PL" partnerLink="CommonLogging_PL" portType="ns16:CommonLogging"
                      operation="process" inputVariable="Invoke_CommonLogging_PL_process_InputVariable"
                      bpelx:invokeAsDetail="no">
                <bpelx:skipCondition>eia:getEIAServiceProperty("CommonLogging","LOGGING.ENABLED") = "false"</bpelx:skipCondition>
                <bpelx:toProperties>
                  <bpelx:toProperty name="endpointURI">eia:getEIAServiceProperty("CommonLogging","endpointURI")</bpelx:toProperty>
                </bpelx:toProperties>
              </invoke>
            </sequence>
          </scope>
          <assign name="setEHM" xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
            <copy>
              <from>xp20:current-dateTime()</from>
              <to>$EIA_HEADER_MESSAGE/ns2:ProcessStartTime</to>
            </copy>
            <copy>
              <from>ora:getCompositeName()</from>
              <to>$EIA_HEADER_MESSAGE/ns2:ProcessName</to>
            </copy>
            <copy>
              <from>ora:getComponentInstanceId()</from>
              <to>$EIA_HEADER_MESSAGE/ns2:ProcessInstanceID</to>
            </copy>
            <copy>
              <from>ora:getProcessVersion()</from>
              <to>$EIA_HEADER_MESSAGE/ns2:ProcessRevision</to>
            </copy>
            <copy>
              <from>ora:getProcessId()</from>
              <to>$EIA_HEADER_MESSAGE/ns2:ProcessDN</to>
            </copy>
          </assign>
          <assign name="setCompositeInformation" xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
            <copy>
              <from>"LaunchAutoInvoice"</from>
              <to>$gbl_operation</to>
            </copy>
            <copy>
              <from>ora:setCompositeInstanceTitle(concat("AP Invoice ",$gbl_operation))</from>
              <to>$gbl_title</to>
            </copy>
          </assign>
          <assign name="Xform_LaunchAutoInvoice_ReqMsg_To_OA_LaunchAutoInvoice_ReqMsg">
            <bpelx:annotation>
              <bpelx:pattern patternName="bpelx:transformation"></bpelx:pattern>
            </bpelx:annotation>
            <copy>
              <from>ora:doXSLTransformForDoc("xsl/Xform_LaunchAutoInvoice_ReqMsg_To_OA_LaunchAutoInvoice_ReqMsg.xsl", $LaunchAutoInvoice_ReqMsg.LaunchAutoInvoiceRequestMessage)</from>
              <to variable="OA_LaunchAutoInvoice_ReqMsg" part="InputParameters"/>
            </copy>
          </assign>
          <invoke name="Invoke_OA_LaunchAutoInvoice" partnerLink="OA_LaunchAutoInvoice"
                  portType="ns12:OA_LaunchAutoInvoice_ptt" operation="OA_LaunchAutoInvoice"
                  inputVariable="OA_LaunchAutoInvoice_ReqMsg" outputVariable="OA_LaunchAutoInvoice_RespMsg"
                  bpelx:invokeAsDetail="no">
            <bpelx:toProperties>
              <bpelx:toProperty name="jca.apps.ORG_ID">$LaunchAutoInvoice_ReqMsg.LaunchAutoInvoiceRequestMessage/ns5:AppsContext/ns7:OrgId</bpelx:toProperty>
              <bpelx:toProperty name="jca.apps.Responsibility">$LaunchAutoInvoice_ReqMsg.LaunchAutoInvoiceRequestMessage/ns5:AppsContext/ns7:ResponsibilityName</bpelx:toProperty>
              <bpelx:toProperty name="jca.apps.Username">$LaunchAutoInvoice_ReqMsg.LaunchAutoInvoiceRequestMessage/ns5:AppsContext/ns7:UserName</bpelx:toProperty>
            </bpelx:toProperties>
          </invoke>
          <assign name="Xform_OA_LaunchAutoInvoice_RespMsg_To_LaunchAutoInvoice_RespMsg">
            <bpelx:annotation>
              <bpelx:pattern patternName="bpelx:transformation"></bpelx:pattern>
            </bpelx:annotation>
            <copy>
              <from>ora:doXSLTransformForDoc("xsl/Xform_OA_LaunchAutoInvoice_RespMsg_To_LaunchAutoInvoice_RespMsg.xsl", $LaunchAutoInvoice_ReqMsg.LaunchAutoInvoiceRequestMessage, "OA_LaunchAutoInvoice_RespMsg.OutputParameters", $OA_LaunchAutoInvoice_RespMsg.OutputParameters)</from>
              <to variable="LaunchAutoInvoice_RespMsg" part="LaunchAutoInvoiceResponseMessage"/>
            </copy>
          </assign>
          <!--assign name="Xform_OA_LaunchAutoInvoice_RespMsg_To_LaunchAutoInvoice_RespMsg">
            <bpelx:annotation>
              <bpelx:pattern patternName="bpelx:transformation"/>
            </bpelx:annotation>
            <copy>
              <from>ora:doXSLTransformForDoc("xsl/Xform_OA_LaunchAutoInvoice_RespMsg_To_LaunchAutoInvoice_RespMsg.xsl", $OA_LaunchAutoInvoice_RespMsg.OutputParameters)</from>
              <to variable="LaunchAutoInvoice_RespMsg"
                  part="LaunchAutoInvoiceResponseMessage"/>
            </copy>
          </assign>
          <assign name="Assign_Header">
            <copy>
              <from>$LaunchAutoInvoice_ReqMsg.LaunchAutoInvoiceRequestMessage/ns14:HeaderRq</from>
              <to>$LaunchAutoInvoice_RespMsg.LaunchAutoInvoiceResponseMessage/ns14:HeaderRs/ns14:RequestDetails</to>
            </copy>
            <copy>
              <from>'SUCCESS'</from>
              <to>$LaunchAutoInvoice_RespMsg.LaunchAutoInvoiceResponseMessage/ns14:HeaderRs/ns14:Status/ns14:StatusFreeText</to>
            </copy>
          </assign-->
          <reply name="Reply_LaunchAutoInvoice" variable="LaunchAutoInvoice_RespMsg" partnerLink="InvoiceABS"
                 portType="ns1:SyncPortType" operation="LaunchAutoInvoice"/>
          <scope name="Scope_EndLogging_LaunchAutoInvoice">
            <variables>
              <variable name="Invoke_CommonLogging_PL_process_InputVariable"
                        messageType="ns16:CommonLoggingRequestMessage"/>
            </variables>
            <faultHandlers>
              <catchAll>
                <empty name="Empty"/>
              </catchAll>
            </faultHandlers>
            <sequence name="Sequence8">
              <assign name="Assign_EndLogging">
                <copy>
                  <from>$LaunchAutoInvoice_ReqMsg.LaunchAutoInvoiceRequestMessage/ns14:HeaderRq/ns14:TransactionIDREF</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionId</to>
                </copy>
                <copy>
                  <from>'NextGen'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ProjectName</to>
                </copy>
                <copy>
                  <from>$LaunchAutoInvoice_ReqMsg.LaunchAutoInvoiceRequestMessage/ns14:HeaderRq/ns14:ComponentID</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ComponentId</to>
                </copy>
                <copy>
                  <from>$LaunchAutoInvoice_ReqMsg.LaunchAutoInvoiceRequestMessage/ns14:HeaderRq/ns14:TransactionName</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionName</to>
                </copy>
                <copy>
                  <from>ora:getCompositeName()</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ProcessName</to>
                </copy>
                <copy>
                  <from>1</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:LoggingSystem</to>
                </copy>
                <copy>
                  <from>$LaunchAutoInvoice_ReqMsg.LaunchAutoInvoiceRequestMessage/ns14:HeaderRq/ns14:Source</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:SourceSystem</to>
                </copy>
                <copy>
                  <from>$LaunchAutoInvoice_ReqMsg.LaunchAutoInvoiceRequestMessage/ns14:HeaderRq/ns14:Target</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TargetSystem</to>
                </copy>
                <copy>
                  <from>1</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:LogType</to>
                </copy>
                <copy>
                  <from>'BMG-003'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:MessageCode</to>
                </copy>
                <copy>
                  <from>1</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionStatus</to>
                </copy>
                <copy>
                  <from>'SOA'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:CreatedBy</to>
                </copy>
                <copy>
                  <from>'SOA'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:UpdatedBy</to>
                </copy>
              </assign>
              <invoke name="Invoke_CommonLogging_PL" partnerLink="CommonLogging_PL"
                      portType="ns16:CommonLogging" operation="process"
                      inputVariable="Invoke_CommonLogging_PL_process_InputVariable" bpelx:invokeAsDetail="no">
                <bpelx:skipCondition>eia:getEIAServiceProperty("CommonLogging","LOGGING.ENABLED") = "false"</bpelx:skipCondition>
                <bpelx:toProperties>
                  <bpelx:toProperty name="endpointURI">eia:getEIAServiceProperty("CommonLogging","endpointURI")</bpelx:toProperty>
                </bpelx:toProperties>
              </invoke>
            </sequence>
          </scope>
        </sequence>
      </onMessage>
      <onMessage bpelx:name="InvoiceABS_CreateListOfInvoices" variable="CreateListOfInvoices_Sync_ReqMsg"
                 partnerLink="InvoiceABS" portType="ns1:SyncPortType" operation="CreateListOfInvoices_Sync">
        <sequence>
          <scope name="Scope_StartLogging_CreateListInvoice">
            <variables>
              <variable name="Invoke_CommonLogging_PL_process_InputVariable"
                        messageType="ns16:CommonLoggingRequestMessage"/>
            </variables>
            <faultHandlers>
              <catchAll>
                <empty name="Empty"/>
              </catchAll>
            </faultHandlers>
            <sequence name="Sequence10">
              <assign name="Assign_StartLogging">
                <copy>
                  <from>$CreateListOfInvoices_Sync_ReqMsg.CreateListOfInvoicesRequestMessage/ns14:HeaderRq/ns14:TransactionIDREF</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionId</to>
                </copy>
                <copy>
                  <from>'NextGen'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ProjectName</to>
                </copy>
                <copy>
                  <from>$CreateListOfInvoices_Sync_ReqMsg.CreateListOfInvoicesRequestMessage/ns14:HeaderRq/ns14:ComponentID</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ComponentId</to>
                </copy>
                <copy>
                  <from>$CreateListOfInvoices_Sync_ReqMsg.CreateListOfInvoicesRequestMessage/ns14:HeaderRq/ns14:TransactionName</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionName</to>
                </copy>
                <copy>
                  <from>ora:getCompositeName()</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ProcessName</to>
                </copy>
                <copy>
                  <from>1</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:LoggingSystem</to>
                </copy>
                <copy>
                  <from>$CreateListOfInvoices_Sync_ReqMsg.CreateListOfInvoicesRequestMessage/ns14:HeaderRq/ns14:Source</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:SourceSystem</to>
                </copy>
                <copy>
                  <from>$CreateListOfInvoices_Sync_ReqMsg.CreateListOfInvoicesRequestMessage/ns14:HeaderRq/ns14:Target</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TargetSystem</to>
                </copy>
                <copy>
                  <from>1</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:LogType</to>
                </copy>
                <copy>
                  <from>'BMG-003'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:MessageCode</to>
                </copy>
                <copy>
                  <from>1</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionStatus</to>
                </copy>
                <copy>
                  <from>'SOA'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:CreatedBy</to>
                </copy>
                <copy>
                  <from>'SOA'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:UpdatedBy</to>
                </copy>
              </assign>
              <invoke name="Invoke_CommonLogging_PL" partnerLink="CommonLogging_PL" portType="ns16:CommonLogging"
                      operation="process" inputVariable="Invoke_CommonLogging_PL_process_InputVariable"
                      bpelx:invokeAsDetail="no">
                <bpelx:skipCondition>eia:getEIAServiceProperty("CommonLogging","LOGGING.ENABLED") = "false"</bpelx:skipCondition>
                <bpelx:toProperties>
                  <bpelx:toProperty name="endpointURI">eia:getEIAServiceProperty("CommonLogging","endpointURI")</bpelx:toProperty>
                </bpelx:toProperties>
              </invoke>
            </sequence>
          </scope>
          <assign name="setEHM" xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
            <copy>
              <from>xp20:current-dateTime()</from>
              <to>$EIA_HEADER_MESSAGE/ns2:ProcessStartTime</to>
            </copy>
            <copy>
              <from>ora:getCompositeName()</from>
              <to>$EIA_HEADER_MESSAGE/ns2:ProcessName</to>
            </copy>
            <copy>
              <from>ora:getComponentInstanceId()</from>
              <to>$EIA_HEADER_MESSAGE/ns2:ProcessInstanceID</to>
            </copy>
            <copy>
              <from>ora:getProcessVersion()</from>
              <to>$EIA_HEADER_MESSAGE/ns2:ProcessRevision</to>
            </copy>
            <copy>
              <from>ora:getProcessId()</from>
              <to>$EIA_HEADER_MESSAGE/ns2:ProcessDN</to>
            </copy>
          </assign>
          <assign name="setCompositeInformation" xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
            <copy>
              <from>"CreateListOfInvoices"</from>
              <to>$gbl_operation</to>
            </copy>
            <copy>
              <from>ora:setCompositeInstanceTitle(concat("AP Invoice ",$gbl_operation))</from>
              <to>$gbl_title</to>
            </copy>
          </assign>
          <assign name="Xform_CreateInvoice_SyncReqMsg_To_OA_CreateInvoiceEBS_ReqMsg"
                  xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
            <bpelx:annotation xmlns:bpelx="http://schemas.oracle.com/bpel/extension">
              <bpelx:pattern patternName="bpelx:transformation"></bpelx:pattern>
            </bpelx:annotation>
            <copy>
              <from>ora:doXSLTransformForDoc("xsl/Xform_CreateListOfInvoices_SyncReqMsg_To_OA_CreateInvoiceEBS_ReqMsg.xsl", $CreateListOfInvoices_Sync_ReqMsg.CreateListOfInvoicesRequestMessage)</from>
              <to variable="OA_CreateInvoiceEBS_ReqMsg" part="ApInvoicesInterfaceCollection"/>
            </copy>
          </assign>
          <invoke name="Invoke_OA_CreateInvoiceEBS" partnerLink="OA_CreateInvoiceEBS"
                  portType="ns4:OA_CreateInvoiceEBS_ptt" operation="insert" inputVariable="OA_CreateInvoiceEBS_ReqMsg"
                  bpelx:invokeAsDetail="no" xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                  xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
            <bpelx:toProperties>
              <bpelx:toProperty name="jca.apps.Username">$CreateInvoice_SyncReqMsg.CreateInvoiceRequestMessage/ns5:AppsContext/ns7:UserName</bpelx:toProperty>
              <bpelx:toProperty name="jca.apps.Responsibility">$CreateInvoice_SyncReqMsg.CreateInvoiceRequestMessage/ns5:AppsContext/ns7:ResponsibilityName</bpelx:toProperty>
              <bpelx:toProperty name="jca.apps.ORG_ID">$CreateInvoice_SyncReqMsg.CreateInvoiceRequestMessage/ns5:AppsContext/ns7:OrgId</bpelx:toProperty>
            </bpelx:toProperties>
          </invoke>
          <assign name="Xform_CreateListOfInvoicesReqMsg_CreateListOfInvoicesRespMsg">
            <bpelx:annotation>
              <bpelx:pattern patternName="bpelx:transformation"></bpelx:pattern>
            </bpelx:annotation>
            <copy>
              <from>ora:doXSLTransformForDoc("xsl/Xform_CreateListOfInvoicesReqMsg_CreateListOfInvoicesRespMsg.xsl", $CreateListOfInvoices_Sync_ReqMsg.CreateListOfInvoicesRequestMessage)</from>
              <to variable="CreateListOfInvoices_Sync_RespMsg" part="CreateListOfInvoicesResponseMessage"/>
            </copy>
          </assign>
          <assign name="Assign_Header">
            <copy>
              <from>$CreateListOfInvoices_Sync_ReqMsg.CreateListOfInvoicesRequestMessage/ns14:HeaderRq</from>
              <to>$CreateListOfInvoices_Sync_RespMsg.CreateListOfInvoicesResponseMessage/ns14:HeaderRs/ns14:RequestDetails</to>
            </copy>
          </assign>
          <reply name="Reply_CreateLisOftInvoiceSync" variable="CreateListOfInvoices_Sync_RespMsg"
                 partnerLink="InvoiceABS" portType="ns1:SyncPortType" operation="CreateListOfInvoices_Sync"
                 xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable"/>
          <scope name="Scope_EndLogging_CreateListInvoice">
            <variables>
              <variable name="Invoke_CommonLogging_PL_process_InputVariable"
                        messageType="ns16:CommonLoggingRequestMessage"/>
            </variables>
            <faultHandlers>
              <catchAll>
                <empty name="Empty"/>
              </catchAll>
            </faultHandlers>
            <sequence name="Sequence9">
              <assign name="Assign_EndLogging">
                <copy>
                  <from>$CreateListOfInvoices_Sync_ReqMsg.CreateListOfInvoicesRequestMessage/ns14:HeaderRq/ns14:TransactionIDREF</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionId</to>
                </copy>
                <copy>
                  <from>'NextGen'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ProjectName</to>
                </copy>
                <copy>
                  <from>$CreateListOfInvoices_Sync_ReqMsg.CreateListOfInvoicesRequestMessage/ns14:HeaderRq/ns14:ComponentID</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ComponentId</to>
                </copy>
                <copy>
                  <from>$CreateListOfInvoices_Sync_ReqMsg.CreateListOfInvoicesRequestMessage/ns14:HeaderRq/ns14:TransactionName</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionName</to>
                </copy>
                <copy>
                  <from>ora:getCompositeName()</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ProcessName</to>
                </copy>
                <copy>
                  <from>1</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:LoggingSystem</to>
                </copy>
                <copy>
                  <from>$CreateListOfInvoices_Sync_ReqMsg.CreateListOfInvoicesRequestMessage/ns14:HeaderRq/ns14:Source</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:SourceSystem</to>
                </copy>
                <copy>
                  <from>$CreateListOfInvoices_Sync_ReqMsg.CreateListOfInvoicesRequestMessage/ns14:HeaderRq/ns14:Target</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TargetSystem</to>
                </copy>
                <copy>
                  <from>1</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:LogType</to>
                </copy>
                <copy>
                  <from>'BMG-003'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:MessageCode</to>
                </copy>
                <copy>
                  <from>1</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionStatus</to>
                </copy>
                <copy>
                  <from>'SOA'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:CreatedBy</to>
                </copy>
                <copy>
                  <from>'SOA'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:UpdatedBy</to>
                </copy>
              </assign>
              <invoke name="Invoke_CommonLogging_PL" partnerLink="CommonLogging_PL"
                      portType="ns16:CommonLogging" operation="process"
                      inputVariable="Invoke_CommonLogging_PL_process_InputVariable" bpelx:invokeAsDetail="no">
                <bpelx:skipCondition>eia:getEIAServiceProperty("CommonLogging","LOGGING.ENABLED") = "false"</bpelx:skipCondition>
                <bpelx:toProperties>
                  <bpelx:toProperty name="endpointURI">eia:getEIAServiceProperty("CommonLogging","endpointURI")</bpelx:toProperty>
                </bpelx:toProperties>
              </invoke>
            </sequence>
          </scope>
        </sequence>
      </onMessage>
      <onMessage variable="LaunchAutoInvoiceAPI_InputVariable" partnerLink="InvoiceABS" portType="ns1:SyncPortType"
                 operation="LaunchAutoInvoiceAPI">
        <sequence name="Sequence16">
          <scope name="Scope_StartLogging_LaunchAutoInvoiceAPI">
            <variables>
              <variable name="Invoke_CommonLogging_PL_process_InputVariable"
                        messageType="ns16:CommonLoggingRequestMessage"/>
            </variables>
            <faultHandlers>
              <catchAll>
                <empty name="Empty"/>
              </catchAll>
            </faultHandlers>
            <sequence name="Sequence15">
              <assign name="Assign_StartLogging">
                <copy>
                  <from>'NextGen'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ProjectName</to>
                </copy>
                <copy>
                  <from>$LaunchAutoInvoiceAPI_InputVariable.LaunchAutoInvoiceAPIRequestMessage/ns14:HeaderRq/ns14:ComponentID</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ComponentId</to>
                </copy>
                <copy>
                  <from>$LaunchAutoInvoiceAPI_InputVariable.LaunchAutoInvoiceAPIRequestMessage/ns14:HeaderRq/ns14:TransactionName</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionName</to>
                </copy>
                <copy>
                  <from>ora:getCompositeName()</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ProcessName</to>
                </copy>
                <copy>
                  <from>$LaunchAutoInvoiceAPI_InputVariable.LaunchAutoInvoiceAPIRequestMessage/ns14:HeaderRq/ns14:TransactionIDREF</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionId</to>
                </copy>
                <copy>
                  <from>1</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:LoggingSystem</to>
                </copy>
                <copy>
                  <from>$LaunchAutoInvoiceAPI_InputVariable.LaunchAutoInvoiceAPIRequestMessage/ns14:HeaderRq/ns14:Source</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:SourceSystem</to>
                </copy>
                <copy>
                  <from>$LaunchAutoInvoiceAPI_InputVariable.LaunchAutoInvoiceAPIRequestMessage/ns14:HeaderRq/ns14:Target</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TargetSystem</to>
                </copy>
                <copy>
                  <from>1</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:LogType</to>
                </copy>
                <copy>
                  <from>'BMG-003'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:MessageCode</to>
                </copy>
                <copy>
                  <from>1</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionStatus</to>
                </copy>
                <copy>
                  <from>'SOA'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:CreatedBy</to>
                </copy>
                <copy>
                  <from>'SOA'</from>
                  <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:UpdatedBy</to>
                </copy>
              </assign>
              <invoke name="Invoke_CommonLogging_PL" partnerLink="CommonLogging_PL" portType="ns16:CommonLogging"
                      operation="process" inputVariable="Invoke_CommonLogging_PL_process_InputVariable"
                      bpelx:invokeAsDetail="no">
                <bpelx:skipCondition>eia:getEIAServiceProperty("CommonLogging","LOGGING.ENABLED") = "false"</bpelx:skipCondition>
                <bpelx:toProperties>
                  <bpelx:toProperty name="endpointURI">eia:getEIAServiceProperty("CommonLogging","endpointURI")</bpelx:toProperty>
                </bpelx:toProperties>
              </invoke>
            </sequence>
          </scope>
          <assign name="setEHM">
            <copy>
              <from>xp20:current-dateTime()</from>
              <to>$EIA_HEADER_MESSAGE/ns2:ProcessStartTime</to>
            </copy>
            <copy>
              <from>ora:getCompositeName()</from>
              <to>$EIA_HEADER_MESSAGE/ns2:ProcessName</to>
            </copy>
            <copy>
              <from>ora:getComponentInstanceId()</from>
              <to>$EIA_HEADER_MESSAGE/ns2:ProcessInstanceID</to>
            </copy>
            <copy>
              <from>ora:getProcessVersion()</from>
              <to>$EIA_HEADER_MESSAGE/ns2:ProcessRevision</to>
            </copy>
            <copy>
              <from>ora:getProcessId()</from>
              <to>$EIA_HEADER_MESSAGE/ns2:ProcessDN</to>
            </copy>
          </assign>
          <assign name="setCompositeInformation" xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable">
            <copy>
              <from>"LaunchAutoInvoiceAPI"</from>
              <to>$gbl_operation</to>
            </copy>
            <copy>
              <from>ora:setCompositeInstanceTitle(concat("AP Invoice ",$gbl_operation))</from>
              <to>$gbl_title</to>
            </copy>
          </assign>
          <assign name="Xform_LaunchAutoInvoiceAPI_SyncReqMsg_To_OA_LaunchAutoInvoiceAPI_ReqMsg">
            <bpelx:annotation>
              <bpelx:pattern patternName="bpelx:transformation"></bpelx:pattern>
            </bpelx:annotation>
            <copy>
              <from>ora:doXSLTransformForDoc("xsl/Xform_LaunchAutoInvoiceAPI_SyncReqMsg_To_OA_LaunchAutoInvoiceAPI_ReqMsg.xsl", $LaunchAutoInvoiceAPI_InputVariable.LaunchAutoInvoiceAPIRequestMessage)</from>
              <to variable="OA_LaunchAutoInvoiceAPI_InputVariable" part="InputParameters"/>
            </copy>
          </assign>
          <invoke name="Invoke_OA_LaunchAutoInvoiceAPI" partnerLink="OA_LaunchAutoInvoiceAPI"
                  portType="ns17:OA_LaunchAutoInvoiceAPI_ptt" operation="OA_LaunchAutoInvoiceAPI"
                  inputVariable="OA_LaunchAutoInvoiceAPI_InputVariable"
                  outputVariable="OA_LaunchAutoInvoiceAPI_OutputVariable" bpelx:invokeAsDetail="no">
            <bpelx:toProperties>
              <bpelx:toProperty name="jca.apps.ORG_ID">$LaunchAutoInvoiceAPI_InputVariable.LaunchAutoInvoiceAPIRequestMessage/ns5:AppsContext/ns7:OrgId</bpelx:toProperty>
              <bpelx:toProperty name="jca.apps.Responsibility">$LaunchAutoInvoiceAPI_InputVariable.LaunchAutoInvoiceAPIRequestMessage/ns5:AppsContext/ns7:ResponsibilityName</bpelx:toProperty>
              <bpelx:toProperty name="jca.apps.Username">$LaunchAutoInvoiceAPI_InputVariable.LaunchAutoInvoiceAPIRequestMessage/ns5:AppsContext/ns7:UserName</bpelx:toProperty>
            </bpelx:toProperties>
          </invoke>
          <assign name="Xform_OA_LaunchAutoInvoiceAPI_RespMsg_To_LaunchAutoInvoiceAPI_RespMsg">
            <bpelx:annotation>
              <bpelx:pattern patternName="bpelx:transformation"></bpelx:pattern>
            </bpelx:annotation>
            <copy>
              <from>ora:doXSLTransformForDoc("xsl/Xform_OA_LaunchAutoInvoiceAPI_RespMsg_To_LaunchAutoInvoiceAPI_RespMsg.xsl", $LaunchAutoInvoiceAPI_InputVariable.LaunchAutoInvoiceAPIRequestMessage, "OA_LaunchAutoInvoiceAPI_OutputVariable.OutputParameters", $OA_LaunchAutoInvoiceAPI_OutputVariable.OutputParameters)</from>
              <to variable="LaunchAutoInvoiceAPI_OutputVariable" part="LaunchAutoInvoiceAPIResponseMessage"/>
            </copy>
          </assign>
          <assign name="Assign_Header">
            <copy>
              <from>$LaunchAutoInvoiceAPI_InputVariable.LaunchAutoInvoiceAPIRequestMessage/ns14:HeaderRq</from>
              <to>$LaunchAutoInvoiceAPI_OutputVariable.LaunchAutoInvoiceAPIResponseMessage/ns14:HeaderRs/ns14:RequestDetails</to>
            </copy>
          </assign>
          <reply name="Reply_LaunchAutoInvoiceAPI" variable="LaunchAutoInvoiceAPI_OutputVariable"
                 partnerLink="InvoiceABS" portType="ns1:SyncPortType" operation="LaunchAutoInvoiceAPI"/>
          <scope name="Scope_EndLogging_LaunchAutoInvoiceAPI">
            <variables>
              <variable name="Invoke_CommonLogging_PL_process_InputVariable"
                        messageType="ns16:CommonLoggingRequestMessage"/>
            </variables>
            <faultHandlers>
              <catchAll>
                <empty name="Empty"/>
              </catchAll>
            </faultHandlers>
            <sequence name="Sequence17">
              <if name="If1">
                <documentation>
                  <![CDATA[S]]>
                </documentation>
                <condition>count($OA_LaunchAutoInvoiceAPI_OutputVariable.OutputParameters/ns18:P_INV_REJECTION_INFO/ns18:P_INV_REJECTION_INFO_ITEM) = 0</condition>
                <sequence name="Sequence21">
                  <assign name="Assign_EndLogging">
                    <copy>
                      <from>'NextGen'</from>
                      <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ProjectName</to>
                    </copy>
                    <copy>
                      <from>$LaunchAutoInvoiceAPI_InputVariable.LaunchAutoInvoiceAPIRequestMessage/ns14:HeaderRq/ns14:ComponentID</from>
                      <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ComponentId</to>
                    </copy>
                    <copy>
                      <from>$LaunchAutoInvoiceAPI_InputVariable.LaunchAutoInvoiceAPIRequestMessage/ns14:HeaderRq/ns14:TransactionIDREF</from>
                      <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionId</to>
                    </copy>
                    <copy>
                      <from>$LaunchAutoInvoiceAPI_InputVariable.LaunchAutoInvoiceAPIRequestMessage/ns14:HeaderRq/ns14:TransactionName</from>
                      <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionName</to>
                    </copy>
                    <copy>
                      <from>ora:getCompositeName()</from>
                      <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ProcessName</to>
                    </copy>
                    <copy>
                      <from>1</from>
                      <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:LoggingSystem</to>
                    </copy>
                    <copy>
                      <from>$LaunchAutoInvoiceAPI_InputVariable.LaunchAutoInvoiceAPIRequestMessage/ns14:HeaderRq/ns14:Source</from>
                      <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:SourceSystem</to>
                    </copy>
                    <copy>
                      <from>$LaunchAutoInvoiceAPI_InputVariable.LaunchAutoInvoiceAPIRequestMessage/ns14:HeaderRq/ns14:Target</from>
                      <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TargetSystem</to>
                    </copy>
                    <copy>
                      <from>1</from>
                      <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:LogType</to>
                    </copy>
                    <copy>
                      <from>'BMG-003'</from>
                      <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:MessageCode</to>
                    </copy>
                    <copy>
                      <from>1</from>
                      <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionStatus</to>
                    </copy>
                    <copy>
                      <from>'SOA'</from>
                      <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:CreatedBy</to>
                    </copy>
                    <copy>
                      <from>'SOA'</from>
                      <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:UpdatedBy</to>
                    </copy>
                  </assign>
                  <invoke name="Invoke_CommonLogging_PL" partnerLink="CommonLogging_PL"
                          portType="ns16:CommonLogging" operation="process"
                          inputVariable="Invoke_CommonLogging_PL_process_InputVariable" bpelx:invokeAsDetail="no">
                    <bpelx:skipCondition>eia:getEIAServiceProperty("CommonLogging","LOGGING.ENABLED") = "false"</bpelx:skipCondition>
                    <bpelx:toProperties>
                      <bpelx:toProperty name="endpointURI">eia:getEIAServiceProperty("CommonLogging","endpointURI")</bpelx:toProperty>
                    </bpelx:toProperties>
                  </invoke>
                </sequence>
                <else>
                  <bpelx:annotation>
                    <bpelx:documentation>
                      <![CDATA[E]]>
                    </bpelx:documentation>
                  </bpelx:annotation>
                  <forEach parallel="no" counterName="APInvoicesRejectedIndx" name="ForEachRejectedInvoices">
                    <startCounterValue>1</startCounterValue>
                    <finalCounterValue>count($OA_LaunchAutoInvoiceAPI_OutputVariable.OutputParameters/ns18:P_INV_REJECTION_INFO/ns18:P_INV_REJECTION_INFO_ITEM)</finalCounterValue>
                    <scope name="Scope1">
                      <sequence>
                        <assign name="Assign_EndLogging">
                          <copy>
                            <from>$APInvoicesRejectedIndx</from>
                            <to>$gbl_RejectedIndx</to>
                          </copy>
                          <copy>
                            <from>'NextGen'</from>
                            <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ProjectName</to>
                          </copy>
                          <copy>
                            <from>$LaunchAutoInvoiceAPI_InputVariable.LaunchAutoInvoiceAPIRequestMessage/ns14:HeaderRq/ns14:TransactionIDREF</from>
                            <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionId</to>
                          </copy>
                          <copy>
                            <from>concat('INVOICE_ID::',$OA_LaunchAutoInvoiceAPI_OutputVariable.OutputParameters/ns18:P_INV_REJECTION_INFO/ns18:P_INV_REJECTION_INFO_ITEM[$APInvoicesRejectedIndx]/ns18:INVOICE_ID,' ', 'INVOICE_NUM::',$OA_LaunchAutoInvoiceAPI_OutputVariable.OutputParameters/ns18:P_INV_REJECTION_INFO/ns18:P_INV_REJECTION_INFO_ITEM[$APInvoicesRejectedIndx]/ns18:INVOICE_NUM,' ', 'INTERFACE_TABLE::',$OA_LaunchAutoInvoiceAPI_OutputVariable.OutputParameters/ns18:P_INV_REJECTION_INFO/ns18:P_INV_REJECTION_INFO_ITEM[$APInvoicesRejectedIndx]/ns18:INTERFACE_TABLE,' ', 'REJECT_LOOKUP_CODE::',$OA_LaunchAutoInvoiceAPI_OutputVariable.OutputParameters/ns18:P_INV_REJECTION_INFO/ns18:P_INV_REJECTION_INFO_ITEM[$APInvoicesRejectedIndx]/ns18:REJECT_LOOKUP_CODE,' ', 'REJECTION_DESCRIPTION::', $OA_LaunchAutoInvoiceAPI_OutputVariable.OutputParameters/ns18:P_INV_REJECTION_INFO/ns18:P_INV_REJECTION_INFO_ITEM[$APInvoicesRejectedIndx]/ns18:REJECTION_DESCRIPTION)</from>
                            <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:MessageDescription</to>
                          </copy>
                          <copy>
                            <from>$LaunchAutoInvoiceAPI_InputVariable.LaunchAutoInvoiceAPIRequestMessage/ns14:HeaderRq/ns14:ComponentID</from>
                            <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ComponentId</to>
                          </copy>
                          <copy>
                            <from>$LaunchAutoInvoiceAPI_InputVariable.LaunchAutoInvoiceAPIRequestMessage/ns14:HeaderRq/ns14:TransactionName</from>
                            <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionName</to>
                          </copy>
                          <copy>
                            <from>ora:getCompositeName()</from>
                            <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:ProcessName</to>
                          </copy>
                          <copy>
                            <from>1</from>
                            <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:LoggingSystem</to>
                          </copy>
                          <copy>
                            <from>$LaunchAutoInvoiceAPI_InputVariable.LaunchAutoInvoiceAPIRequestMessage/ns14:HeaderRq/ns14:Source</from>
                            <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:SourceSystem</to>
                          </copy>
                          <copy>
                            <from>$LaunchAutoInvoiceAPI_InputVariable.LaunchAutoInvoiceAPIRequestMessage/ns14:HeaderRq/ns14:Target</from>
                            <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TargetSystem</to>
                          </copy>
                          <copy>
                            <from>4</from>
                            <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:LogType</to>
                          </copy>
                          <copy>
                            <from>1</from>
                            <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:TransactionStatus</to>
                          </copy>
                          <copy>
                            <from>'SOA'</from>
                            <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:CreatedBy</to>
                          </copy>
                          <copy>
                            <from>'SOA'</from>
                            <to>$Invoke_CommonLogging_PL_process_InputVariable.CommonLogging/ns16:UpdatedBy</to>
                          </copy>
                        </assign>
                        <invoke name="Invoke_CommonLogging_PL" bpelx:invokeAsDetail="no" partnerLink="CommonLogging_PL"
                                portType="ns16:CommonLogging" operation="process"
                                inputVariable="Invoke_CommonLogging_PL_process_InputVariable">
                          <bpelx:toProperties>
                            <bpelx:toProperty name="endpointURI">eia:getEIAServiceProperty("CommonLogging","endpointURI")</bpelx:toProperty>
                          </bpelx:toProperties>
                        </invoke>
                      </sequence>
                    </scope>
                  </forEach>
                </else>
              </if>
            </sequence>
          </scope>
        </sequence>
      </onMessage>
    </pick>
  </sequence>
</process>